[{"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/index.js":"1","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/App.js":"2","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Post.js":"3","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Register.js":"4","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Login.js":"5","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/NoMatch.js":"6","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/DeletePage.js":"7","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/Layout.js":"8","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Home.js":"9","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/headerComponents/Jumbotron.js":"10","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/headerComponents/NavigationBar.js":"11","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/context/userContext.js":"12","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/ListPost.js":"13","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/DeletePost.js":"14","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/ActionPost.js":"15","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/CreatePostForm.js":"16","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/AuthOptions.js":"17","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/RegisterForm.js":"18","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/LoginForm.js":"19","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/utils/constants.js":"20"},{"size":220,"mtime":1609457722824,"results":"21","hashOfConfig":"22"},{"size":2057,"mtime":1609770828949,"results":"23","hashOfConfig":"22"},{"size":756,"mtime":1609770790298,"results":"24","hashOfConfig":"22"},{"size":169,"mtime":1609702774991,"results":"25","hashOfConfig":"22"},{"size":157,"mtime":1609702867921,"results":"26","hashOfConfig":"22"},{"size":100,"mtime":1609458018658,"results":"27","hashOfConfig":"22"},{"size":748,"mtime":1609770798567,"results":"28","hashOfConfig":"22"},{"size":160,"mtime":1609457835582,"results":"29","hashOfConfig":"22"},{"size":738,"mtime":1609769992414,"results":"30","hashOfConfig":"22"},{"size":863,"mtime":1609512556260,"results":"31","hashOfConfig":"22"},{"size":992,"mtime":1609772242383,"results":"32","hashOfConfig":"22"},{"size":75,"mtime":1609710882936,"results":"33","hashOfConfig":"22"},{"size":914,"mtime":1609775619404,"results":"34","hashOfConfig":"22"},{"size":3760,"mtime":1609774454880,"results":"35","hashOfConfig":"22"},{"size":740,"mtime":1609775575477,"results":"36","hashOfConfig":"22"},{"size":5538,"mtime":1609777301742,"results":"37","hashOfConfig":"22"},{"size":1237,"mtime":1609775528333,"results":"38","hashOfConfig":"22"},{"size":2435,"mtime":1609803366306,"results":"39","hashOfConfig":"22"},{"size":2104,"mtime":1609803206760,"results":"40","hashOfConfig":"22"},{"size":47,"mtime":1609746270004,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1gvh7zg",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/index.js",[],["88","89"],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/App.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Post.js",["90"],"import React, { useEffect, useContext } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../context/userContext';\nimport ActionPost from '../components/postComponents/ActionPost'\nimport CreatePostForm from '../components/postComponents/CreatePostForm'\n\nfunction Post() {\n  const {userData} = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n      if(!userData.user)\n          history.push(\"/login\");\n\n  }, []);\n\n  return (\n  <div>\n    {userData.user ? (\n      <>\n      <ActionPost />\n      <CreatePostForm />\n      </>\n    ) : (\n        <>\n          <h2>You are not logged in</h2>\n            <Link to=\"/login\">Login</Link>\n          </>\n    )}\n    </div>\n  );\n}\n\nexport default Post;","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Register.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Login.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/NoMatch.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/DeletePage.js",["91"],"import React, { useEffect, useContext } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../context/userContext';\nimport ActionPost from '../components/postComponents/ActionPost'\nimport DeletePost from '../components/postComponents/DeletePost'\n\nfunction Delete() {\n  const {userData} = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n      if(!userData.user)\n          history.push(\"/login\");\n\n  }, []);\n\n  return (\n  <div>\n    {userData.user ? (\n      <>\n      <ActionPost />\n      <DeletePost />\n      </>\n    ) : (\n        <>\n          <h2>You are not logged in</h2>\n            <Link to=\"/login\">Login</Link>\n          </>\n    )}\n    </div>\n  );\n}\n\nexport default Delete;","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/Layout.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/pages/Home.js",["92"],"import React, { useEffect, useContext } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../context/userContext';\nimport ActionPost from '../components/postComponents/ActionPost'\nimport ListPost from '../components/postComponents/ListPost'\n\nfunction Home() {\n  const {userData} = useContext(UserContext);\n  const history = useHistory();\n\n  useEffect(() => {\n      if(!userData.user)\n          history.push(\"/login\");\n\n  }, []);\n\n  return (\n  <div>\n    {userData.user ? (\n      <>\n      <ActionPost />\n      <ListPost />\n      </>\n    ) : (\n        <>\n          <h2>You are not logged in</h2>\n            <Link to=\"/login\">Login</Link>\n          </>\n    )}\n    </div>\n  );\n}\n\nexport default Home;","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/headerComponents/Jumbotron.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/headerComponents/NavigationBar.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/context/userContext.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/ListPost.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/DeletePost.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/ActionPost.js",["93"],"import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, NavItem } from 'react-bootstrap';\n\nfunction ActionPost() {\n    return(\n      <>\n        <NavItem>\n          <Link to=\"/\">\n            <Button variant=\"info\" size=\"lg\">\n              List Post\n            </Button>{' '}\n          </Link>\n          <Link to=\"/post\">\n            <Button variant=\"primary\" size=\"lg\">\n              Create Post\n            </Button>{' '}\n          </Link>\n          <Link to=\"/delete\">\n            <Button variant=\"warning\" size=\"lg\">\n              Delete Post\n            </Button>\n          </Link>\n        </NavItem>\n      </>\n    )\n}\n\nexport default ActionPost\n","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/postComponents/CreatePostForm.js",["94","95"],"import React, { useState, useRef } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { Form, Col, Button, Alert } from 'react-bootstrap'\nimport Dropzone from 'react-dropzone';\nimport axios from 'axios';\nimport { API_URL } from '../../utils/constants';\nimport styled from 'styled-components'\n\nconst Styles = styled.div`\n.image-preview {\n  height: inherit;\n  margin-left: 5%;\n}\n\n.preview-image {\n  width: 100%;\n  height: inherit;\n  display: block;\n  margin-bottom: 10px;\n}\n\n.preview-message {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-left: 5%;\n}\n\n.drop-zone {\n  margin-bottom: 10px;\n  padding: 40px 10px;\n  height: inherit;\n  border: 2px dashed #e9ebeb;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n`;\n\nfunction CreatePostForm(props) {\n  const [file, setFile] = useState(null); // state for storing actual image\n  const [previewSrc, setPreviewSrc] = useState(''); // state for storing previewImage\n  const [state, setState] = useState({\n    title: '',\n    description: ''\n  });\n  const [errorMsg, setErrorMsg] = useState('');\n  const [createMsg, setCreateMsg] = useState('');\n  const [isPreviewAvailable, setIsPreviewAvailable] = useState(false); // state to show preview only for images\n  const dropRef = useRef(); // React ref for managing the hover state of droppable area\n  const [show, setShow] = useState(true);\n\n\n\n  const handleInputChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const onDrop = (files) => {\n    const [uploadedFile] = files;\n    setFile(uploadedFile);\n\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      setPreviewSrc(fileReader.result);\n    };\n    fileReader.readAsDataURL(uploadedFile);\n    setIsPreviewAvailable(uploadedFile.name.match(/\\.(jpeg|jpg|png)$/));\n  };\n\n  const updateBorder = (dragState) => {\n    if (dragState === 'over') {\n      dropRef.current.style.border = '2px solid #000';\n    } else if (dragState === 'leave') {\n      dropRef.current.style.border = '2px dashed #e9ebeb';\n    }\n  };\n\n  const handleOnSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { title, description } = state;\n      if (title.trim() !== '' && description.trim() !== '') {\n        if (file) {\n          const formData = new FormData();\n          formData.append('file', file);\n          formData.append('title', title);\n          formData.append('description', description);\n\n          setErrorMsg('');\n          await axios.post(`${API_URL}/api/upload`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n              'x-auth-token': localStorage.getItem('auth-token')\n            }\n          }).then(() => setCreateMsg('the post to was created'));\n          props.history.push('/list');\n        } else {\n          setErrorMsg('Please select a file to add.');\n        }\n      } else {\n        setErrorMsg('Please enter all the field values.');\n      }\n    } catch (error) {\n      error.response && setErrorMsg(error.response.data);\n    }\n  };\n\n  return(\n    <Styles>\n    <Form className=\"search-form\" onSubmit={handleOnSubmit}>\n      <h2>Create Post Form</h2>\n      {errorMsg.length > 0 &&\n        <Alert variant=\"danger\" onClose={() => setShow(false)} dismissible>\n        <Alert.Heading>{errorMsg}</Alert.Heading>\n      </Alert>\n      }\n      {createMsg.length > 0 &&\n        <Alert variant=\"success\" onClose={() => setShow(false)} dismissible>\n        <Alert.Heading>{createMsg}</Alert.Heading>\n      </Alert>\n      }\n      <Form.Row>\n        <Form.Group as={Col} controlId=\"formGridArticleName\">\n          <Form.Label>Article Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"title\"\n            value={state.title || ''}\n            placeholder=\"Enter article name \"\n            onChange={handleInputChange}\n          />\n        </Form.Group>\n      </Form.Row>\n\n      <Form.Group controlId=\"formGridDescription\">\n        <Form.Label>Description</Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"description\"\n          value={state.description || ''}\n          placeholder=\"Enter Description\"\n          onChange={handleInputChange}\n        />\n      </Form.Group>\n\n      <Form.Label>Upload Image</Form.Label>\n      <div className=\"upload-section\">\n        <Dropzone onDrop={onDrop}>\n          {({ getRootProps, getInputProps }) => (\n            <div {...getRootProps({ className: 'drop-zone' })} ref={dropRef}>\n              <input {...getInputProps()} />\n              <p>Drag and drop a file OR click here to select a file</p>\n              {file && (\n                <div>\n                  <strong>Selected file:</strong> {file.name}\n                </div>\n              )}\n            </div>\n          )}\n        </Dropzone>\n\n        {previewSrc ? (\n          isPreviewAvailable ? (\n            <div className=\"image-preview\">\n              <img className=\"preview-image\" src={previewSrc} alt=\"Preview\" />\n            </div>\n          ) : (\n            <div className=\"preview-message\">\n              <p>No preview available for this file</p>\n            </div>\n          )\n        ) : (\n          <div className=\"preview-message\">\n            <p>Image preview will be shown here after selection</p>\n          </div>\n        )}\n      </div><br/>\n\n      <Button variant=\"primary\" type=\"submit\">Submit</Button>\n    </Form>\n    </Styles>\n    )\n}\n\nexport default CreatePostForm\n","/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/AuthOptions.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/RegisterForm.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/components/loginComponents/LoginForm.js",[],"/Users/mbp/Documents/workspace/LE_DAVID_M2_ESI_2020_SECURITE-/frontend/src/utils/constants.js",[],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":15,"column":6,"nodeType":"102","endLine":15,"endColumn":8,"suggestions":"103"},{"ruleId":"100","severity":1,"message":"101","line":15,"column":6,"nodeType":"102","endLine":15,"endColumn":8,"suggestions":"104"},{"ruleId":"100","severity":1,"message":"101","line":15,"column":6,"nodeType":"102","endLine":15,"endColumn":8,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":1,"column":17,"nodeType":"108","messageId":"109","endLine":1,"endColumn":25},{"ruleId":"106","severity":1,"message":"110","line":53,"column":10,"nodeType":"108","messageId":"109","endLine":53,"endColumn":14},{"ruleId":"106","severity":1,"message":"111","line":76,"column":9,"nodeType":"108","messageId":"109","endLine":76,"endColumn":21},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'userData.user'. Either include them or remove the dependency array.","ArrayExpression",["114"],["115"],["116"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'show' is assigned a value but never used.","'updateBorder' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},{"desc":"117","fix":"119"},{"desc":"117","fix":"120"},"Update the dependencies array to be: [history, userData.user]",{"range":"121","text":"122"},{"range":"123","text":"122"},{"range":"124","text":"122"},[478,480],"[history, userData.user]",[472,474],[466,468]]